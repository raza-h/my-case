@model List<AbsolCase.Models.ClientTransaction>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutClientPortal.cshtml";
}
<style>
    .content-wrapper {
        height: 100% !important;
    }
</style>
@*<style>
    .content-wrapper {
        height: 81vh;
    }
</style>*@
@if (Model != null && Model.Count > 0)
{
    foreach (var transaction in Model)
    {
        <div class="row mt-3">
            @*<div class="container-fluid w-100">
                <button class="btn btn-primary float-right mt-4 ms-2" style="float:right" onclick="PrintInvoice(@transaction.Id)"><i class="ti-printer me-1"></i>Print</button>
            </div>*@
            <div class="col-lg-12" id="invoice-@transaction.Id">
                <div class="card px-2">
                    <div class="container-fluid" style="margin-top: 20px">
                        <h3 class="text-right">Invoice&nbsp;&nbsp;#@transaction.InvoiceNo</h3>
                        <hr>
                    </div>
                    <div class="container-fluid d-flex justify-content-between">
                        <div class="col-lg-3 ps-0">
                            <p class="mb-2 text-right"><b>Invoice from</b></p>
                            <p class="mb-2"><b>@transaction.Contact.FirstName @transaction.Contact.LastName</b></p>
                            <p>@transaction.Contact.Address,<br>@transaction.Contact.State, @transaction.Contact.City @transaction.Contact.ZipCode.</p>
                        </div>
                        <div class="col-lg-3 pr-0">
                            <p class="mb-2 text-right"><b>Invoice to</b></p>
                            <p class="mb-2"><b>@transaction.User.FirstName @transaction.User.LastName</b></p>
                            <p class="text-right">@transaction.User.Address, @transaction.User.State,<br> @transaction.User.City, @transaction.User.PostCode</p>
                        </div>
                    </div>
                    <div class="container-fluid d-flex justify-content-between">
                        <div class="col-lg-3 ps-0" style="margin-bottom: 15px">
                            <p class="mb-0" style="font-weight: bold">Invoice Date : @transaction.PaymentDate</p>
                        </div>
                    </div>
                    <div class="container-fluid d-flex justify-content-center w-100">
                        <div class="table-responsive w-100">
                            <table class="table">
                                <thead>
                                    <tr class="bg-dark text-white">
                                        <th class="text-right">Price</th>
                                        <th class="text-right">Payment Type</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="text-right">
                                        <td>$@transaction.Amount</td>
                                        <td>@transaction.PaymentType</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="container-fluid w-100">
                        <h4 class="text-right mb-5">Total : $@transaction.Amount</h4>
                        <hr>
                    </div>
                </div>
            </div>
        </div>
    }
}
@section scripts {
    @*<script>
        function PrintInvoice(id) {
            var divContents = $("#invoice-" + id).html();
            var printWindow = window.open('', '', 'height=400,width=800');
            printWindow.document.write('<html><head><title>CMS Invoice</title>');
            printWindow.document.write('</head><body >');
            printWindow.document.write('<div class="content-wrapper">');
            printWindow.document.write('<div class="row">');
            printWindow.document.write('<div class="col-sm-12">');
            printWindow.document.write('<div class="home-tab">');
            printWindow.document.write('<div class="tab-content tab-content-basic">');
            printWindow.document.write('<div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview">');
            printWindow.document.write('<div class="row">');
            printWindow.document.write(divContents);
            printWindow.document.write('</div></div></div></div></div></div></div>');
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        };
    </script>*@
}


